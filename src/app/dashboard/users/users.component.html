<p-toast />
<p-confirmPopup />
<p-card class="no-padding">
  <ng-template pTemplate="header">
    <div class="header">
      <app-user [user]="users[0]" />
      <p-button
        [raised]="true"
        [outlined]="true"
        severity="secondary"
        label="Logout"
      />
    </div>
  </ng-template>
  <p-table [value]="users" [paginator]="true" [rows]="5">
    <ng-template pTemplate="caption">
      <div class="table-header">
        <h4>Company Employees</h4>
        <div class="table-header__actions">
          <p-iconField iconPosition="left">
            <p-inputIcon>
              <i class="pi pi-search"></i>
            </p-inputIcon>
            <input pInputText type="text" placeholder="Search" />
          </p-iconField>
          <p-button label="New" icon="pi pi-plus" />
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th></th>
        <th pSortableColumn="name">
          Full Name
          <p-sortIcon field="name" />
        </th>
        <th pSortableColumn="email">
          Email
          <p-sortIcon field="email" />
        </th>
        <th pSortableColumn="title">
          Title
          <p-sortIcon field="title" />
        </th>
        <th pSortableColumn="department">
          Department
          <p-sortIcon field="department" />
        </th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr class="row">
        <td><p-checkbox [(ngModel)]="selectedUsers" [value]="user.id" /></td>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.title }}</td>
        <td>{{ user.department }}</td>
        <td>
          <div class="row__actions">
            <p-button label="Edit" severity="help" [text]="true" size="small" />
            <p-button
              label="Delete"
              severity="danger"
              [text]="true"
              size="small"
              (click)="confirmRemove($event, user)"
            />
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="footer">
      <tr class="row">
        <td colspan="6">
          @if (selectedUsers.length) {
            <p-button
              label="Delete selected"
              size="small"
              [text]="true"
              severity="danger"
              (click)="confirmRemove($event)"
            />
            <p-button
              label="De-select all"
              size="small"
              [text]="true"
              severity="secondary"
            />
          }
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
